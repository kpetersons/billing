
<div class="panel">
	<div class="panel-header">
		<strong>User information</strong>
	</div>
	<%= render :partial => "shared/flash", :locals => {:flash => flash}%>	
	<dl class="panel-content">
		<dt>
			<label>
				Identifier
			</label>
		</dt>
		<dd>
			<%=@user.individual.party.identifier%>&nbsp;
		</dd>		
		<dt>
			<label>
				First name
			</label>
		</dt>
		<dd>
			<%=@user.individual.first_name%>&nbsp;
		</dd>
		<dt>
			<label>
				Middle name
			</label>
		</dt>
		<dd>
			<%=@user.individual.middle_name%>&nbsp;
		</dd>
		<dt>
			<label>
				Last name
			</label>
		</dt>
		<dd>
			<%=@user.individual.last_name%>&nbsp;
		</dd>
		<dt>
			<label>
				Gender
			</label>
		</dt>
		<dd>
			<%=@user.individual.gender_name%>&nbsp;
		</dd>		
		<dt>
			<label>
				Birth date
			</label>
		</dt>
		<dd>
			<%=@user.individual.birth_date%>&nbsp;
		</dd>
		<dt>
			<label>
				Active
			</label>
		</dt>
		<dd>
			<%=(@user.active)? 'Yes' : 'No' %>&nbsp;
			<%=link_to "#{(@user.active)? 'de' : ''}activate".capitalize, activate_user_path(@user), :method => :post %>
		</dd>
		<dt>
			<label>
				Blocked
			</label>
		</dt>
		<dd>
			<%=(@user.blocked)? 'Yes' : 'No' %>&nbsp;
			<%=link_to "#{(@user.blocked)? 'un' : ''}block".capitalize, block_user_path(@user), :method => :post %>
		</dd>		
	</dl>
	<%= render :partial => "shared/ui/show_edit_controls", :locals => {:path => edit_user_path(@user)} %>	

	<dl class="nested-panel accordion">
		<dt class="panel-header"><a href="#addresses"><strong>Addresses</strong></a></dt>
		<dd id="addresses">	
			<%= render :partial => "/addresses/index", :locals => {:addresses => @user.individual.party.addresses.paginate(:per_page=> 10, :page => params[:addresses]), :table_title => "Addresses", :choose => false, :param_name => 'addresses'} %>
			<div class="panel-footer">	 
				<%=link_to 'Add new address', new_party_address_path(@user.individual.party) %>
			</div>
		</dd>	
		<dt class="panel-header"><a href="#contacts"><strong>Contact list</strong></a></dt>
		<dd id="contacts">
			<%= render :partial => "/contacts/index", :locals => {:contacts => @user.individual.party.contacts.paginate(:per_page=>10, :page => params[:contacts]), :table_title => "Contacts", :choose => false, :param_name => 'contacts'} %>
			<div class="panel-footer">	 
				<%=link_to 'Add new contact', new_party_contact_path(@user.individual.party) %>
			</div>
		</dd>	
		<dt class="panel-header"><a href="#roles"><strong>Roles list</strong></a></dt>
		<dd id="roles">
			<%= render :partial => "/roles/index", :locals => {:roles => @user.roles.paginate(:per_page=> 10,:page => params[:roles]), :table_title => "Roles", :choose => false, :param_name => 'roles'} %>
			<div class="panel-footer">	 
				<%=link_to 'Add role', choose_user_roles_path(@user, :anchor => "roles") %>
			</div>
		</dd>
	</dl>	
</div>
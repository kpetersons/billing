<div class="panel">
	<div class="panel-header">
		<strong>User information</strong>
	</div>
	<%= render :partial => "shared/flash", :locals => {:flash => flash}%>	
	<%= render :partial => "show" %>
	<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name=> "Edit", :path => edit_user_path(@user)} %>	

	<dl class="nested-panel accordion">
		<dt class="panel-header"><a href="#addresses"><strong>Addresses</strong></a></dt>
		<dd id="addresses">	 			
			<%= render :partial => "addresses/index", :locals => {:addresses => @user.individual.party.addresses.paginate(:per_page=> 10, :page => params[:addresses]), :param_name => 'addresses', :path_elements => [@user]} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add new address', :path => new_user_address_path(@user)} %>
		</dd>	
		<dt class="panel-header"><a href="#contacts"><strong>Contact list</strong></a></dt>
		<dd id="contacts">
			<%= render :partial => "contacts/index", :locals => {:contacts => @user.individual.party.contacts.paginate(:per_page=>10, :page => params[:contacts]), :param_name => 'contacts', :path_elements => [@user]} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add new contact', :path => new_user_contact_path(@user)} %>
		</dd>
		<dt class="panel-header"><a href="#roles"><strong>Roles list</strong></a></dt>
		<dd id="roles">
			<%= render :partial => "/roles/index", :locals => {:roles => @user.roles.paginate(:per_page=> 10,:page => params[:roles]), :table_title => "Roles", :choose => false, :param_name => 'roles'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add role', :path => choose_user_roles_path(@user, :anchor => "roles")} %>
		</dd>
	</dl>	
</div>
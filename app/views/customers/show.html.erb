<div class="panel">
	<div class="panel-header">
		<strong>Customer information</strong>
	</div>
	<%= render :partial => "shared/flash", :locals => {:flash => flash}%>	
	<dl class="panel-content">
		<dt>
			<label>
				Name
			</label>
		</dt>
		<dd>
			<%=@customer.name%>
		</dd>
		<dt>
			<label>
				Identifier
			</label>
		</dt>
		<dd>
			<%=@customer.identifier%>
		</dd>
	</dl>
	<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name=> "Edit", :path => edit_customer_path(@customer)} %>	

	<dl class="nested-panel accordion">
		<dt class="panel-header"><a href="#addresses"><strong>Addresses</strong></a></dt>
		<dd id="addresses">	 			
			<%= render :partial => "/addresses/index", :locals => {:addresses => @customer.party.addresses.paginate(:per_page=> 10, :page => params[:addresses]), :choose => false, :param_name => 'addresses'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add new address', :path => new_customer_address_path(@customer.party)} %>
		</dd>	
		<dt class="panel-header"><a href="#contacts"><strong>Contact list</strong></a></dt>
		<dd id="contacts">
			<%= render :partial => "/contacts/index", :locals => {:contacts => @customer.party.contacts.paginate(:per_page=>10, :page => params[:contacts]), :choose => false, :param_name => 'contacts'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add new contact', :path => new_customer_contact_path(@customer.party)} %>
		</dd>	
		<dt class="panel-header"><a href="#contact_persons"><strong>Contact persons</strong></a></dt>
		<dd id="contact_persons">
			<%= render :partial => "/individuals/index", :locals => {:contact_persons => @customer.contact_persons.paginate(:per_page=> 10,:page => params[:contact_persons]), :choose => false, :param_name => 'contact_persons'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Add new contact person', :path => new_customer_individual_path(@customer)} %>
		</dd>
		
		<dt class="panel-header"><a href="#matters_agent"><strong>Matters where customer participates as Agent</strong></a></dt>
		<dd id="matters_agent">
			<%= render :partial => "/matters/index", :locals => {:matters => @customer.matters_as_agent.paginate(:per_page=> 10,:page => params[:matters_agent]), :choose => false, :param_name => 'matters_agent'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Create matter', :path => '#'} %>
		</dd>				
		<dt class="panel-header"><a href="#matters_applicant"><strong>Matters where customer participates as Applicant</strong></a></dt>
		<dd id="matters_applicant">
			<%= render :partial => "/matters/index", :locals => {:matters => @customer.matters_as_applicant.paginate(:per_page=> 10,:page => params[:matters_applicant]), :choose => false, :param_name => 'matters_applicant'} %>
			<%= render :partial => "shared/ui/show_edit_controls", :locals => {:name => 'Create matter', :path => '#'} %>
		</dd>		
	</dl>	
</div>